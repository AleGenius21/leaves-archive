<div style="margin:0;height:100vh;overflow:hidden;">
    <!-- Container WordPress simulato (dimensioni fisse) -->
    <div style="width:100%;height:100%;" id="widget-container"></div>

	
    <!-- Carica CSS e JS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="components/approval-row/approval-row.css">
    <link rel="stylesheet" href="components/filters/filters.css">
    <link rel="stylesheet" href="components/calendars/calendars.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.js"></script>

    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/store.js"></script>

    <script src="components/approval-row/approval-row.js"></script>
    <script src="components/filters/filters.js"></script>
    <script src="components/calendars/calendars.js"></script>
    <script src="js/main.js"></script>

    <script>

		(function() {
			// Definire container nel quale inserirsi
            const container = document.getElementById('widget-container');
            if (!container) return console.error("Container mancante");

			const store = hrStore();

            initLeavesArchive(container, store);

            initFilters({
                store: store,
                api: store.getState('api'),
                settings: { type: 'ferie_permessi' }
            });

            initCalendars({
                store: store,
                root: store.getState('root'),
                selectors: { container: '#calendarContainer' }
            });

            initApprovalRow({ store: store });

            console.log("Widget avviato in modo sincrono");
        })();
    </script>
</div>
